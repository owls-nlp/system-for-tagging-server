# Docker-контейнер

Для создания контейнера в программе **Docker** необходимо описать *Dockerfile*. *Dockerfile* – это текстовый файл, который содержит набор команд для формирования контейнера. 

Задается используемый образ операционной системы:

`FROM ubuntu:18.04`

Устанавливаются необходимые зависимости, пример нескольких команд:

`RUN apt update`

`RUN apt install -y git`

`RUN apt install -y python3`

`RUN apt install -y python3-pip`

Задается рабочая директория:

`WORKDIR /home/flask_app/`

Копируются локальные файлы:

`COPY . .`

Задаются команды, которые необходимо выполнить при запуске контейнера:

`RUN chmod +x /home/flask_app/run_system.sh`

`CMD ["/home/flask_app/run_system.sh"]`

Открываются порты для работы веб-сервера:

`EXPOSE 80`

`EXPOSE 443`

`EXPOSE 5000`

Для сбора контейнера из *Dockerfile* применяется следующая команда:

`docker build -f tagging_system.Dockerfile --tag tagging_system .`

Важной особенностью запускаемых контейнеров является то, что изменения, внесенные в настройки операционной системы или файловую систему контейнера, не сохраняются. Однако при работе системы может возникнуть потребность изменить базу данных, добавив или удалив пользователя, редактировать файлы конфигурации и т. д. Для этого необходимо использовать *Docker-том*: часть файлов, используемых в контейнере, будут храниться вне его, их можно будет изменять, и эти изменения будут оставаться после перезапуска. Для этого при запуске контейнера добавим аргумент *mount*, *source* и *target*. 

Пример запуска собранного контейнера:

`docker run --name tagging_system -p 443:443/tcp -p 80:80/tcp -p 5000:5000/tcp --mount source=tagging_system_volume, target=/home/flask_app/configs/`



